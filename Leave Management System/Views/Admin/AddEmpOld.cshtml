@model Leave_Management_System.Models.EmployeeViewModel

@{
    ViewBag.Title = "AddEmp";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>AddEmp</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()


    <div class="card">
        <div class="card-header"><h4> إضافة موظف</h4></div>
        <div class="card-body">
            <br />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="row">
                <div class="form-group">
                    @Html.LabelFor(model => model.Employees.FirstOrDefault().Emp_Name, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-4 PR PL">
                        @Html.EditorFor(model => model.Employees.FirstOrDefault().Emp_Name, new { htmlAttributes = new { @class = "form-control text-box single-line" } })
                        @Html.ValidationMessageFor(model => model.Employees.FirstOrDefault().Emp_Name, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="form-group">
                    @Html.LabelFor(model => model.Employees.FirstOrDefault().User_Name, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-4 PR PL">
                        @Html.EditorFor(model => model.Employees.FirstOrDefault().User_Name, new { htmlAttributes = new { @class = "form-control text-box single-line" } })
                        @Html.ValidationMessageFor(model => model.Employees.FirstOrDefault().User_Name, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="form-group">
                    @Html.LabelFor(model => model.Employees.FirstOrDefault().Password, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-4 PR PL">
                        @Html.EditorFor(model => model.Employees.FirstOrDefault().Password, new { htmlAttributes = new { @class = "form-control text-box single-line" } })
                        @Html.ValidationMessageFor(model => model.Employees.FirstOrDefault().Password, "", new { @class = "text-danger" })
                    </div>
                </div>

                @*<div class="form-group">
                        @Html.LabelFor(model => model.Available_Leave, htmlAttributes: new { @class = "control-label col-md-2" })
                        <div class="col-md-4 PR PL">
                            @Html.EditorFor(model => model.Available_Leave, new { htmlAttributes = new { @class = "form-control text-box single-line" } })
                            @Html.ValidationMessageFor(model => model.Available_Leave, "", new { @class = "text-danger" })
                        </div>
                    </div>*@
            </div>
            <div class="row">
                <div class="form-group">
                    @Html.LabelFor(model => model.Employees.FirstOrDefault().Role, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-4 PR PL">
                        @{
                            List<SelectListItem> listRoles = new List<SelectListItem>();

                            foreach (var item in Model.Roles)
                            {
                                listRoles.Append(new SelectListItem { Text = item.Role_Type, Value = item.Role_Id.ToString() });
                            }

                        }
                        @Html.DropDownList("Role", listRoles, "--إختر--", htmlAttributes: new { @class = "form-control text-box single-line" })
                        @Html.ValidationMessageFor(model => model.Employees.FirstOrDefault().Role, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.Employees.FirstOrDefault().Department, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-4 PR PL">
                        @{
                            List<SelectListItem> listDepartments = new List<SelectListItem>();

                            foreach (var item in Model.Departments)
                            {
                                listDepartments.Append(new SelectListItem { Text = item.Dep_Name, Value = item.Dep_Id.ToString() });
                            }

                        }
                        @Html.DropDownList("Role", listDepartments, "--إختر--", htmlAttributes: new { @class = "form-control text-box single-line" })
                        @Html.ValidationMessageFor(model => model.Employees.FirstOrDefault().Department, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(model => model.Employees.FirstOrDefault().Department, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-4 PR PL">
                        @{
                            List<SelectListItem> listOfficies = new List<SelectListItem>();

                            foreach (var item in Model.Offices)
                            {
                                listOfficies.Append(new SelectListItem { Text = item.Office_Name, Value = item.Office_Id.ToString() });
                            }

                        }
                        @Html.DropDownList("Role", listOfficies, "--إختر--", htmlAttributes: new { @class = "form-control text-box single-line" })
                        @Html.ValidationMessageFor(model => model.Employees.FirstOrDefault().Department, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-offset-2 col-md-4 naif">
                    <input type="submit" value="إضافة موظف" class="btn btn-default" />
                </div>
            </div>
        </div>
    </div>

}

<div class="col-md-offset-2 col-md-4">
    <a href="@Url.Action("Index","Admin")" class="btn btn-default naif">رجوع</a>
    @*@Html.ActionLink("رجوع", "Index")*@
</div>
